$(document).ready(function(){searchoption();onsearch();if(!localStorage.search){localStorage.search="2"}else{var a=localStorage.search;$("#searchEngine").attr("thesearch",a);if(a=="2"){$("#searchEngine").html("百度")}if(a=="1"){$("#searchEngine").html("谷歌")}}suggestion()});function searchoption(){$(document).mousedown(function(c){var b=c.target;if(c.target.className=="op"){$(".op").css({"border-bottom":""});$(b).css({"border-bottom":"solid rgba(238, 20, 20,1) 2px"});var a=$(b).attr("opid");$("#set").attr("searchop",a)}});$("#searchEngine").mousedown(function(){var c=$("#set").attr("searchop");var b=$("#set").attr("searchshow");if(c=="1"||c=="4"||c=="5"||c=="6"||c=="8"){var a=$("#searchEngine").attr("thesearch");if(a=="2"){if(b=="0"){$("#googlelist").show();$("#set").attr("searchshow","1")}else{$("#googlelist").hide();$("#set").attr("searchshow","0")}}if(a=="1"){if(b=="0"){$("#baidulist").show();$("#set").attr("searchshow","1")}else{$("#baidulist").hide();$("#set").attr("searchshow","0")}}}});$(document).mousedown(function(d){var c=d.target;if(c.className=="li"){var b=$(c).attr("searchid");$("#searchEngine").attr("thesearch",b);localStorage.search=b;var a=$(c).text();$("#searchEngine").html(a);$(".li").hide();$("#set").attr("searchshow","0")}});$("#tb,#tm").mousedown(function(){$("#searchEngine").attr("thesearch","3");$("#searchEngine").html("淘宝");$("#googlelist").hide();$("#baidulist").hide();$("#set").attr("searchshow","0");$("#searchico").css({"background-image":"url()"})});$("#yy").mousedown(function(){$("#searchEngine").attr("thesearch","2");$("#searchEngine").html("百度");$("#googlelist").hide();$("#set").attr("searchshow","0");$("#searchico").css({"background-image":"url()"})});$("#wy,#xw,#tp,#sp,#dt").mousedown(function(){$("#searchico").css({"background-image":"url(css/select.png)"});var a=localStorage.search;$("#searchEngine").attr("thesearch",a);if(a=="2"){$("#searchEngine").html("百度")}if(a=="1"){$("#searchEngine").html("谷歌")}})}function onsearch(){$("#searchform").submit(function(){var f=$("#set").attr("searchop");f=parseInt(f);var d=$("#searchEngine").attr("thesearch");d=parseInt(d);var i=$("#searchinput").val();var h="";if(i.length==0){switch(f){case 1:if(d==2){var g="http://www.baidu.com"}else{if(d==1){var g="https://www.google.com.hk"}}break;case 2:var g="http://www.taobao.com/go/chn/tbk_channel/channelcode.php?pid=mm_29924319_3495625_11460798&eventid=101329";break;case 3:var g="http://s.click.taobao.com/t_9?p=mm_29924319_0_0&l=http%3A%2F%2Fwww.tmall.com";break;case 4:if(d==2){var g="http://news.baidu.com/"}else{if(d==1){var g="https://news.google.com.hk/"}}break;case 5:if(d==2){var g="http://image.baidu.com"}else{if(d==1){var g="https://www.google.com.hk/imghp?hl=en&tab=wi"}}break;case 6:if(d==2){var g="http://video.baidu.com"}else{if(d==1){var g="https://www.google.com.hk/videohp"}}break;case 7:var g="http://music.baidu.com";break;case 8:if(d==2){var g="http://map.baidu.com"}else{if(d==1){var g="https://ditu.google.cn/"}}break}}else{switch(f){case 1:if(d==2){var g="http://www.baidu.com/s?wd="}else{if(d==1){var g="https://www.google.com.hk/search?q="}}break;case 2:var g="http://s8.taobao.com/search?q=";var h="&pid=mm_29924319_3495625_11460798&commend=all&ssid=s5-e";break;case 3:var g="http://s8.taobao.com/search?q=";var h="&initiative_id=staobaoz_20130526&pid=mm_29924319_3495625_11460798&unid=&mode=63&tab=mall";break;case 4:if(d==2){var g="http://news.baidu.com/ns?word=";var h="&tn=news&ie=utf-8"}else{if(d==1){var g="https://www.google.com.hk/search?q=";var h="&hl=zh-CN&tbm=nws"}}break;case 5:if(d==2){var g="http://image.baidu.com/i?ct=201326592&cl=2&nc=1&lm=-1&st=-1&tn=baiduimage&istype=2&fm=index&pv=&z=0&ie=utf-8&word=";var h=""}else{if(d==1){var g="https://www.google.com.hk/search?q=";var h="&hl=zh-CN&tbm=isch"}}break;case 6:if(d==2){var g="http://video.baidu.com/v?word=";var h="&ie=utf-8"}else{if(d==1){var g="https://www.google.com.hk/search?q=";var h="&hl=zh-CN&tbm=vid"}}break;case 7:var g="http://music.baidu.com/search?fr=ps&key=";var h="&ie=utf-8";break;case 8:if(d==2){var g="http://map.baidu.com/?newmap=1&ie=utf-8&s=s%26wd%3D"}else{if(d==1){var g="https://ditu.google.cn/maps?hl=zh-CN&q="}}break}}window.open(g+i+h,searchtarget);return false})}function suggestion(){$("#searchinput").keydown().keyup(function(e){if(e.which!=40&&e.which!=38){var q=$("#searchinput").val();$("#sg0,#sg1,#sg2,#sg3,#sg4,#sg5,#sg6,#sg7,#sg8,#sg9").css("background-color","");$("#suggestion").attr("li",-1);$.ajax({url:"http://suggestion.baidu.com/su?wd="+encodeURIComponent(q)+"&p=3&t="+new Date().getTime()+"&cb=cbackc",dataType:"text",error:function(){$("#suggestion").hide()},success:function(data){try{data=data.match(/cbackc\((.*)\);/)[1];try{data=window.eval("("+data+")")}catch(err1){data=JSON.parse(data)}var sg=data.s.length;if(sg>0){$("#suggestion").show();$("#suggestion").attr("show","true");for(var i=0;i<sg;i++){$("#sg"+i).html(data.s[i])}}else{$("#suggestion").hide();$("#suggestion").attr("show","false")}}catch(err){}}})}});$("#searchinput").blur(function(){$("#suggestion").hide();$("#suggestion").attr("show","false")});$(document).mousedown(function(e){if(e.target.className=="suggest"){var ele=e.target;var text=$(ele).text();var url="http://www.baidu.com/s?wd="+encodeURIComponent(text);$("#searchinput").val(text);window.open(url,searchtarget);if(searchtarget=="_blank"){}else{return false}}});$(document).keydown(function(e){if(e.which==40){var show=$("#suggestion").attr("show");if(show=="true"){var li=$("#suggestion").attr("li");li=parseInt(li);if(li==9){li=0;$("#suggestion").attr("li",li);$("#sg0,#sg1,#sg2,#sg3,#sg4,#sg5,#sg6,#sg7,#sg8,#sg9").css("background-color","");$("#sg"+li).css("background-color","rgb(184, 242, 245)");var text=$("#sg"+li).text();$("#searchinput").val(text)}else{var li=$("#suggestion").attr("li");li=parseInt(li);li+=1;$("#suggestion").attr("li",li);var li=$("#suggestion").attr("li");li=parseInt(li);$("#sg0,#sg1,#sg2,#sg3,#sg4,#sg5,#sg6,#sg7,#sg8,#sg9").css("background-color","");$("#sg"+li).css("background-color","rgb(184, 242, 245)");var text=$("#sg"+li).text();$("#searchinput").val(text)}}}if(e.which==38){e.preventDefault();var show=$("#suggestion").attr("show");if(show=="true"){var li=$("#suggestion").attr("li");li=parseInt(li);if(li==0){li=9;$("#suggestion").attr("li",li);$("#sg0,#sg1,#sg2,#sg3,#sg4,#sg5,#sg6,#sg7,#sg8,#sg9").css("background-color","");$("#sg"+li).css("background-color","rgb(184, 242, 245)");var text=$("#sg"+li).text();$("#searchinput").val(text)}else{var li=$("#suggestion").attr("li");li=parseInt(li);li-=1;$("#suggestion").attr("li",li);var li=$("#suggestion").attr("li");li=parseInt(li);$("#sg0,#sg1,#sg2,#sg3,#sg4,#sg5,#sg6,#sg7,#sg8,#sg9").css("background-color","");$("#sg"+li).css("background-color","rgb(184, 242, 245)");var text=$("#sg"+li).text();$("#searchinput").val(text)}}}})};
